@using HRM.Common
@model HRM.ViewModels.Salary.SalaryLevelViewModel
<div class="portlet light bordered">
    <div class="portlet-title">
        <div class="caption font-red-sunglo">
            <span class="caption-subject bold uppercase" style="color:#3fbd6c">NHẬP THÔNG TIN</span>
        </div>
        <div class="actions">
            <a class="btn btn-circle btn-icon-only blue" href="javascript:;">
                <i class="icon-cloud-upload"></i>
            </a>
            <a class="btn btn-circle btn-icon-only green" href="javascript:;">
                <i class="icon-wrench"></i>
            </a>
            <a class="btn btn-circle btn-icon-only red" href="javascript:;">
                <i class="icon-trash"></i>
            </a>
            <a class="btn btn-circle btn-icon-only btn-default fullscreen" href="javascript:;" data-original-title="" title=""> </a>
        </div>
    </div>
    <div class="portlet-body form">
        @using (Html.BeginForm("Create", "SalaryLevel", FormMethod.Post, new { enctype = "multipart/form-data" }))
        {
            <div class="form-body">
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group form-md-line-input has-success form-md-floating-label">
                            <div class="input-icon">
                                @Html.DropDownListFor(model => model.WorkTitleId, (SelectList)ViewBag.WorkTitles, new { @class = "select2 form-control" })
                                <label for="form_control_1">Chức danh</label>
                                @*<span class="help-block">Some help goes here...</span>*@
                                @*<i class="fa fa-bell-o"></i>*@
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group form-md-line-input has-success form-md-floating-label">
                            <div class="input-icon">
                                @Html.EditorFor(model => model.Code, new { htmlAttributes = new { @class = "form-control" } })
                                <label for="form_control_1">Bậc lương</label>
                                @*<span class="help-block">Nhập tại đây...</span>*@
                                <i class="fa fa-bell-o"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group form-md-line-input has-success form-md-floating-label">
                            <div class="input-icon">
                                @Html.EditorFor(model => model.PayRate, new { htmlAttributes = new { @class = "form-control" } })
                                <label for="form_control_1">Hệ số</label>
                                @*<span class="help-block">Some help goes here...</span>*@
                                <i class="fa fa-bell-o"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="form-group form-md-line-input has-success form-md-floating-label">
                            <div class="input-icon">
                                @Html.EditorFor(model => model.MonthlySalary, new { htmlAttributes = new { @class = "form-control money" } })
                                @*@Html.EditorFor(model => model.MonthlySalary, new { htmlAttributes = new { @class = "form-control", @onChange = "format_curency(this)" } })*@

                                <label for="form_control_1">Mức lương</label>
                                @*<span class="help-block">Some help goes here...</span>*@
                                <i class="fa fa-bell-o"></i>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group form-md-line-input has-success form-md-floating-label">
                            <div class="input-icon">
                                <label for="form_control_1">Ngày tháng</label>
                                @Html.TextBoxFor(model => model.EffectiveDate, new { @class = "form-control", @type = "date" })

                                @*<span class="help-block">Some help goes here...</span>*@
                                <i class="fa fa-bell-o"></i>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        @*<input name="my_field" pattern="^\d*(\.\d{0,2})?$" />
                            <br /><br />*@
                    </div>
                    <div class="col-md-3">
                        @*<div>
                                <input class="simple-field-data-mask-reverse" type="text" data-mask="#.##0,00" data-mask-reverse="true" data-mask-maxlength="false" />
                            </div>*@
                    </div>
                    <div class="col-md-3"></div>
                </div>
            </div>
            <div class="form-actions noborder">
                <button type="submit" class="btn green-meadow">Lưu lại</button>
                <button type="button" class="btn default">@Html.ActionLink("Hủy", "Index")</button>
            </div>
        }
    </div>
</div>

@section Scripts
{
    <script type="text/javascript">
        function format_curency(a) {
            //a.value = a.value.replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1.");
            a.value = a.value.replace(".", ",");
        }

    </script>

    @if (Model.EffectiveDate.HasValue)
    {
        <script type="text/javascript">
    $(document).ready(function () {
        setDate("EffectiveDate", @Model.EffectiveDate.Value.ToJavaScriptMilliseconds());
            });
        </script>
    }


}
